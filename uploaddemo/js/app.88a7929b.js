(function(e){function t(t){for(var a,l,i=t[0],u=t[1],s=t[2],p=0,c=[];p<i.length;p++)l=i[p],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&c.push(r[l][0]),r[l]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);d&&d(t);while(c.length)c.shift()();return n.push.apply(n,s||[]),o()}function o(){for(var e,t=0;t<n.length;t++){for(var o=n[t],a=!0,i=1;i<o.length;i++){var u=o[i];0!==r[u]&&(a=!1)}a&&(n.splice(t--,1),e=l(l.s=o[0]))}return e}var a={},r={app:0},n=[];function l(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.m=e,l.c=a,l.d=function(e,t,o){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(o,a,function(t){return e[t]}.bind(null,a));return o},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var d=u;n.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";o("f0a0")},"22fb":function(e,t,o){"use strict";o("fb96")},"56d7":function(e,t,o){"use strict";o.r(t);o("c9ba"),o("e6f5"),o("5bda"),o("85ea"),o("42b4"),o("c619"),o("9997"),o("64da"),o("086a"),o("c760"),o("6486"),o("a6df"),o("b7cb"),o("a823"),o("15ed"),o("c13b"),o("1871"),o("9570"),o("01c9"),o("c3ec"),o("2d27"),o("a2ef"),o("cdd2"),o("55c1"),o("f3ce"),o("a491"),o("95cf"),o("a07e"),o("186d");var a=o("c0a4"),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("div",{staticClass:"box"},[o("el-button",{attrs:{type:"primary"}},[e._v("图片上传")]),o("el-button",{attrs:{type:"primary"}},[e._v("图片批量上传")]),o("upload-video",{attrs:{progress:e.progress},on:{"update:progress":function(t){e.progress=t}}},[o("el-button",{attrs:{type:"primary"}},[e._v("视频上传")])],1),o("upload-video",[o("el-button",{attrs:{type:"primary"}},[e._v("视频批量上传")])],1),e._v(" 进度： "+e._s(e.progress)+" ")],1)])},n=[],l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"upload-video"},[o("input",{staticClass:"files",attrs:{type:"file",accept:e.accept,disabled:e.uploadDisabled},on:{change:e.fileChange}}),e._t("default")],2)},i=[],u=(o("2952"),o("2b19"),o("c447"),o("9208"),o("1264"),o("73ef")),s=o.n(u),d={name:"UploadVideo",props:{timeout:{type:Number,default:6e4},partSize:{type:Number,default:1048576},parallel:{type:Number,default:5},retryCount:{type:Number,default:3},retryDuration:{type:Number,default:2},region:{type:String,default:"cn-hangzhou"},userId:{type:String,default:"278055044511188943"},accept:{type:String,default:"video/*"},fileSize:{type:Number,default:2147483648},auto:{type:Boolean,default:!0},preview:{type:Boolean,default:!0},progress:{type:[String,Number],default:0}},data:function(){return{file:"",uploadDisabled:!1}},mounted:function(){this.uploader=this.createUploader()},methods:{fileChange:function(e){var t=e.target.files[0];if(t.size>=this.fileSize)this.$emit("errSize");else{if(this.preview){var o=URL.createObjectURL(t);this.$emit("localPath",o)}this.uploader&&(this.uploader.stopUpload(),this.authProgress=0,this.statusText="");var a='{"Vod":{}}';this.uploader=this.createUploader(),this.uploader.addFile(t,null,null,null,a),console.log(t)}},createUploader:function(){var e=this,t=new window.AliyunUpload.Vod({timeout:this.timeout,partSize:this.partSize,parallel:this.parallel,retryCount:this.retryCount,retryDuration:this.retryDuration,region:this.region,userId:this.userId,addFileSuccess:function(t){e.uploadDisabled=!0,e.auto&&e.uploader.startUpload(),console.log(t)},onUploadstarted:function(t){e.getVoucher(t)},onUploadSucceed:function(t){console.log("onUploadSucceed: "+t.file.name+", endpoint:"+t.endpoint+", bucket:"+t.bucket+", object:"+t.object),e.statusText="文件上传成功!"},onUploadFailed:function(t,o,a){console.log("onUploadFailed: file:"+t.file.name+",code:"+o+", message:"+a),e.statusText="文件上传失败!"},onUploadCanceled:function(t,o,a){console.log("Canceled file: "+t.file.name+", code: "+o+", message:"+a),e.statusText="文件已暂停上传"},onUploadProgress:function(t,o,a){console.log("onUploadProgress:file:"+t.file.name+", fileSize:"+o+", percent:"+Math.ceil(100*a)+"%");var r=Math.ceil(100*a);console.log(r),e.$emit("update:progress",r)},onUploadTokenExpired:function(o){console.log(o);var a="/AliyunVideo/CreateUploadVideo";s.a.get(a).then((function(e){var o=e.data,a=o.UploadAuth;t.resumeUploadWithAuth(a),console.log("upload expired and resume upload with uploadauth "+a)})),e.statusText="文件超时..."},onUploadEnd:function(t){console.log(t),console.log("onUploadEnd: uploaded all the files"),e.statusText="文件上传完毕"}});return t},getVoucher:function(e){var t=this,o="/AliyunVideo/CreateUploadVideo";s.a.get(o).then((function(o){console.log(o,1231);var a=JSON.parse(o.data.Data),r=a.UploadAuth,n=a.UploadAddress,l=a.VideoId;e.videoId?t.uploader.resumeUploadWithAuth(r):t.uploader.setUploadAuthAndAddress(e,r,n,l)}))},authUpload:function(){null!==this.uploader&&(this.uploader.startUpload(),this.uploadDisabled=!0,this.pauseDisabled=!1)},pauseUpload:function(){null!==this.uploader&&(this.uploader.stopUpload(),this.resumeDisabled=!1,this.pauseDisabled=!0)},resumeUpload:function(){null!==this.uploader&&(this.uploader.startUpload(),this.resumeDisabled=!0,this.pauseDisabled=!1)}}},p=d,c=(o("22fb"),o("5d22")),f=Object(c["a"])(p,l,i,!1,null,"138747da",null),h=f.exports,b={name:"App",components:{UploadVideo:h},data:function(){return{progress:0}}},g=b,y=(o("034f"),Object(c["a"])(g,r,n,!1,null,null,null)),v=y.exports,m=(o("418e"),o("2763")),U=o.n(m);o("ccc1");a["default"].use(U.a),a["default"].config.productionTip=!1,FileReader.prototype.readAsBinaryString||(FileReader.prototype.readAsBinaryString=function(e){var t="",o=this,a=new FileReader;a.onload=function(){for(var e=new Uint8Array(a.result),r=e.byteLength,n=0;n<r;n++)t+=String.fromCharCode(e[n]);o.content=t,o.onload()},a.readAsArrayBuffer(e)}),new a["default"]({render:function(e){return e(v)}}).$mount("#app")},f0a0:function(e,t,o){},fb96:function(e,t,o){}});