(function(e){function t(t){for(var s,n,i=t[0],l=t[1],d=t[2],c=0,p=[];c<i.length;c++)n=i[c],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&p.push(o[n][0]),o[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,d||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(s=!1)}s&&(r.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},o={app:0},r=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("f0a0")},"318d":function(e,t,a){"use strict";a("766d")},"56d7":function(e,t,a){"use strict";a.r(t);a("c9ba"),a("e6f5"),a("5bda"),a("85ea"),a("42b4"),a("c619"),a("9997"),a("64da"),a("086a"),a("c760"),a("6486"),a("a6df"),a("b7cb"),a("a823"),a("15ed"),a("c13b"),a("1871"),a("9570"),a("01c9"),a("c3ec"),a("2d27"),a("a2ef"),a("cdd2"),a("55c1"),a("f3ce"),a("a491"),a("95cf"),a("a07e"),a("186d");var s=a("c0a4"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"box"},[a("div",{staticClass:"left"},[a("div",{staticClass:"header"},[a("h2",[e._v("视频上传")]),a("upload-video",{ref:"upload",attrs:{progress:e.progress,auto:e.value,preview:e.value1},on:{"update:progress":function(t){e.progress=t},localPath:e.localPath}},[a("el-button",{attrs:{type:"primary"}},[e._v("视频上传")])],1)],1),a("div",{staticClass:"progress"},[a("p",[e._v("进度")]),a("el-progress",{attrs:{"text-inside":!0,"stroke-width":26,percentage:e.progress}})],1),a("div",{staticClass:"btn-list"},[a("el-switch",{attrs:{"active-text":"自动上传","inactive-text":"手动上传","active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),a("el-button",{attrs:{type:"primary",disabled:e.value},on:{click:e.startUpload}},[e._v("开始上传")]),a("el-button",{attrs:{type:"primary"},on:{click:e.pauseUpload}},[e._v("暂停上传")]),a("el-button",{attrs:{type:"primary"},on:{click:e.resumeUpload}},[e._v("恢复上传")]),a("el-switch",{attrs:{"active-text":"开启本地预览","inactive-text":"关闭本地预览","active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),e.value1?a("div",{staticClass:"video-box"},[e.videoPath?a("video",{attrs:{src:e.videoPath,controls:"controls"}}):e._e()]):e._e()]),a("div",{staticClass:"right"},[a("div",{staticClass:"header"},[a("h2",[e._v("图片上传")]),a("upload-img",[a("el-button",{attrs:{type:"primary"}},[e._v("图片上传")])],1),a("upload-img",[a("el-button",{attrs:{type:"primary"}},[e._v("图片上传")])],1),a("upload-img",[a("el-button",{attrs:{type:"primary"}},[e._v("图片上传")])],1),a("upload-img",[a("el-button",{attrs:{type:"primary"}},[e._v("图片上传")])],1)],1)])])])},r=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-video"},[a("input",{staticClass:"files",attrs:{type:"file",accept:e.accept,disabled:e.uploadDisabled},on:{change:e.fileChange}}),e._t("default")],2)},i=[],l=(a("2952"),a("2b19"),a("c447"),a("9208"),a("73ef")),d=a.n(l),u={name:"UploadVideo",props:{timeout:{type:Number,default:6e4},partSize:{type:Number,default:1048576},parallel:{type:Number,default:5},retryCount:{type:Number,default:3},retryDuration:{type:Number,default:2},region:{type:String,default:"cn-hangzhou"},userId:{type:String,default:"278055044511188943"},accept:{type:String,default:"video/*"},fileSize:{type:Number,default:2147483648},auto:{type:Boolean,default:!0},preview:{type:Boolean,default:!1},progress:{type:[String,Number],default:0}},data:function(){return{file:"",uploadDisabled:!1,videoId:""}},mounted:function(){this.uploader=this.createUploader()},methods:{fileChange:function(e){var t=e.target.files[0];if(t.size>=this.fileSize)this.$emit("errSize");else{if(this.preview){var a=URL.createObjectURL(t);this.$emit("localPath",a)}this.uploader&&(this.uploader.stopUpload(),this.authProgress=0,this.statusText="");var s='{"Vod":{}}';this.uploader=this.createUploader(),this.uploader.addFile(t,null,null,null,s),this.uploadDisabled=!1}},createUploader:function(){var e=this,t=new window.AliyunUpload.Vod({timeout:this.timeout,partSize:this.partSize,parallel:this.parallel,retryCount:this.retryCount,retryDuration:this.retryDuration,region:this.region,userId:this.userId,addFileSuccess:function(t){console.log(t),e.auto&&e.startUpload()},onUploadstarted:function(t){e.uploadDisabled=!0,e.getVoucher(t)},onUploadFailed:function(t,a,s){e.$emit("errFile",t,a,s)},onUploadCanceled:function(t,a,s){e.$emit("pauseUpload",t,a,s)},onUploadProgress:function(t,a,s){var o=Math.ceil(100*s);e.$emit("update:progress",o,a,t)},onUploadTokenExpired:function(t){e.getVoucher(t)},onUploadEnd:function(t){console.log(t,e.videoId,"上传成功"),e.uploadDisabled=!1,e.$emit("uploadEnd",e.videoId),e.uploader.cleanList()}});return t},startUpload:function(){this.uploader.startUpload()},getVoucher:function(e){var t=this,a="/AliyunVideo/CreateUploadVideo";d.a.get(a).then((function(a){var s=JSON.parse(a.data.Data),o=s.UploadAuth,r=s.UploadAddress,n=t.videoId=s.VideoId;console.log(n),e.videoId?t.uploader.resumeUploadWithAuth(o):t.uploader.setUploadAuthAndAddress(e,o,r,n)}))},pauseUpload:function(){console.log(this.uploader),null!==this.uploader&&this.uploader.stopUpload()},resumeUpload:function(){null!==this.uploader&&this.uploader.resumeFile(0)}}},c=u,p=(a("318d"),a("5d22")),f=Object(p["a"])(c,n,i,!1,null,"3aeb5240",null),b=f.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"uploadImg"},[a("div",{staticClass:"selectfiles",attrs:{id:"selectfiles"+e.domID}},[e._v("1")]),e._t("default")],2)},h=[],m=(a("9719"),a("de23"),a("aa0d3"),a("6390"),a("ab58")),v=a.n(m),g=a("caaf"),y=a.n(g),U={name:"UploadImg",props:{multiple:{type:Number,default:5},mimetypes:{type:String,default:"jpg,gif,png"},fileSize:{type:String,default:"100mb"},duplicates:{type:Boolean,default:!1},dir:{type:String,default:"upload"}},data:function(){return{domID:parseInt(Date.now()+9999*Math.random()+1)}},created:function(){console.log(this.domID)},mounted:function(){this.initialUploader()},methods:{initialUploader:function(){var e=this;this.uploader=new v.a.Uploader({runtimes:"html5,flash,silverlight,html4",browse_button:"selectfiles"+this.domID,url:this.aliossHost,multi_selection:this.multiple>1,filters:{mime_types:[{title:"Image files",extensions:this.mimetypes}],max_file_size:this.fileSize,prevent_duplicates:this.duplicates},init:{PostInit:function(){console.log("初始化完成")},FilesAdded:function(t,a){a.length>e.multiple&&(t.files.length=a.length=e.multiple),e.set_upload_param(t,a,!0)},UploadProgress:function(t,a){e.$emit("updateProgress",a.percent,a,t),console.log(a.percent)},FileUploaded:function(t,a,s){200===s.status&&e.$emit("uploadEnd",a.imgUrl,a,t),console.log(a.imgUrl)},Error:function(t,a){e.$emit("uploadError",a,t),console.log(t,a)}}}),this.uploader.init()},set_upload_param:function(e,t){var a=this;t.forEach((function(t){setTimeout((function(){d.a.get(a.serverHost,{params:{dir:a.dir}}).then((function(s){var o=s.data;if(console.log(o),200===o.Code){var r=t.type.split("/")[1];t.imgUrl="".concat(a.dir,"/").concat(y()(new Date).format("YYYY/MM/DD"),"/").concat(Date.now(),".").concat(r);var n={key:t.imgUrl,policy:o.Data.policy,OSSAccessKeyId:o.Data.accessid,success_action_status:"200",signature:o.Data.signature};e.setOption({url:o.Data.host,multipart_params:n}),e.start()}}))}),parseInt(500*Math.random()))}))}}},_=U,k=(a("89ef"),Object(p["a"])(_,j,h,!1,null,null,null)),w=k.exports,z={name:"App",components:{UploadVideo:b,UploadImg:w},data:function(){return{progress:0,value:!1,value1:!1,videoPath:""}},methods:{startUpload:function(){this.$refs.upload.startUpload()},localPath:function(e){this.videoPath=e,console.log(e)},pauseUpload:function(){this.$refs.upload.pauseUpload()},resumeUpload:function(){this.$refs.upload.resumeUpload()}}},x=z,S=(a("034f"),Object(p["a"])(x,o,r,!1,null,null,null)),D=S.exports,O=(a("418e"),a("2763")),C=a.n(O);a("ccc1");s["default"].use(C.a),s["default"].config.productionTip=!1,s["default"].prototype.aliossHost="https://img.xlxt.net/",s["default"].prototype.serverHost="https://www3.xlxt.net/AliyunOSS/GetOssSignature",FileReader.prototype.readAsBinaryString||(FileReader.prototype.readAsBinaryString=function(e){var t="",a=this,s=new FileReader;s.onload=function(){for(var e=new Uint8Array(s.result),o=e.byteLength,r=0;r<o;r++)t+=String.fromCharCode(e[r]);a.content=t,a.onload()},s.readAsArrayBuffer(e)}),new s["default"]({render:function(e){return e(D)}}).$mount("#app")},"766d":function(e,t,a){},"89ef":function(e,t,a){"use strict";a("a12f")},a12f:function(e,t,a){},aaf1:function(e,t,a){var s={"./af":"0674","./af.js":"0674","./ar":"6cc2","./ar-dz":"b1de","./ar-dz.js":"b1de","./ar-kw":"7d0b","./ar-kw.js":"7d0b","./ar-ly":"4064","./ar-ly.js":"4064","./ar-ma":"56ad","./ar-ma.js":"56ad","./ar-sa":"adaa","./ar-sa.js":"adaa","./ar-tn":"5221","./ar-tn.js":"5221","./ar.js":"6cc2","./az":"1a3f","./az.js":"1a3f","./be":"84b2","./be.js":"84b2","./bg":"a213","./bg.js":"a213","./bm":"8b34","./bm.js":"8b34","./bn":"3482","./bn-bd":"98bb","./bn-bd.js":"98bb","./bn.js":"3482","./bo":"a3f6","./bo.js":"a3f6","./br":"72ea","./br.js":"72ea","./bs":"fa2c1","./bs.js":"fa2c1","./ca":"f217","./ca.js":"f217","./cs":"1b54","./cs.js":"1b54","./cv":"ae9c","./cv.js":"ae9c","./cy":"7554","./cy.js":"7554","./da":"b478","./da.js":"b478","./de":"35a9","./de-at":"5b88","./de-at.js":"5b88","./de-ch":"7475","./de-ch.js":"7475","./de.js":"35a9","./dv":"4c16","./dv.js":"4c16","./el":"3f33","./el.js":"3f33","./en-au":"73ff","./en-au.js":"73ff","./en-ca":"bfc9","./en-ca.js":"bfc9","./en-gb":"428a","./en-gb.js":"428a","./en-ie":"6b5c","./en-ie.js":"6b5c","./en-il":"eb4a","./en-il.js":"eb4a","./en-in":"3fbf","./en-in.js":"3fbf","./en-nz":"89f8","./en-nz.js":"89f8","./en-sg":"13d6","./en-sg.js":"13d6","./eo":"dfd6","./eo.js":"dfd6","./es":"5221e","./es-do":"7a70","./es-do.js":"7a70","./es-mx":"a656","./es-mx.js":"a656","./es-us":"3081","./es-us.js":"3081","./es.js":"5221e","./et":"45f3","./et.js":"45f3","./eu":"d1a1","./eu.js":"d1a1","./fa":"6773","./fa.js":"6773","./fi":"259f","./fi.js":"259f","./fil":"32e2","./fil.js":"32e2","./fo":"0e60","./fo.js":"0e60","./fr":"0600","./fr-ca":"6520","./fr-ca.js":"6520","./fr-ch":"2b9c","./fr-ch.js":"2b9c","./fr.js":"0600","./fy":"23bb","./fy.js":"23bb","./ga":"f9bb","./ga.js":"f9bb","./gd":"088a","./gd.js":"088a","./gl":"da3a","./gl.js":"da3a","./gom-deva":"e728","./gom-deva.js":"e728","./gom-latn":"b781","./gom-latn.js":"b781","./gu":"ab1a","./gu.js":"ab1a","./he":"2e9a","./he.js":"2e9a","./hi":"77d9","./hi.js":"77d9","./hr":"334c","./hr.js":"334c","./hu":"9f96","./hu.js":"9f96","./hy-am":"f2d9","./hy-am.js":"f2d9","./id":"7e6f","./id.js":"7e6f","./is":"770b","./is.js":"770b","./it":"aed5","./it-ch":"72a8","./it-ch.js":"72a8","./it.js":"aed5","./ja":"d546","./ja.js":"d546","./jv":"63b1","./jv.js":"63b1","./ka":"517d","./ka.js":"517d","./kk":"1320","./kk.js":"1320","./km":"b9f3","./km.js":"b9f3","./kn":"d861","./kn.js":"d861","./ko":"ce13","./ko.js":"ce13","./ku":"ecb8","./ku.js":"ecb8","./ky":"885a","./ky.js":"885a","./lb":"aa9d","./lb.js":"aa9d","./lo":"579e","./lo.js":"579e","./lt":"b8d7","./lt.js":"b8d7","./lv":"1bb4","./lv.js":"1bb4","./me":"673d","./me.js":"673d","./mi":"26ae","./mi.js":"26ae","./mk":"e174","./mk.js":"e174","./ml":"4a84","./ml.js":"4a84","./mn":"aadd","./mn.js":"aadd","./mr":"a2a5","./mr.js":"a2a5","./ms":"d18a","./ms-my":"66b0","./ms-my.js":"66b0","./ms.js":"d18a","./mt":"7fb0","./mt.js":"7fb0","./my":"74d1","./my.js":"74d1","./nb":"5fd8","./nb.js":"5fd8","./ne":"4e84","./ne.js":"4e84","./nl":"6f41","./nl-be":"6f69","./nl-be.js":"6f69","./nl.js":"6f41","./nn":"e69e","./nn.js":"e69e","./oc-lnc":"8d28","./oc-lnc.js":"8d28","./pa-in":"b000","./pa-in.js":"b000","./pl":"510c","./pl.js":"510c","./pt":"714b","./pt-br":"e9f3","./pt-br.js":"e9f3","./pt.js":"714b","./ro":"a876","./ro.js":"a876","./ru":"ba7c","./ru.js":"ba7c","./sd":"25dc","./sd.js":"25dc","./se":"d540","./se.js":"d540","./si":"1b0a","./si.js":"1b0a","./sk":"bfa3","./sk.js":"bfa3","./sl":"d112","./sl.js":"d112","./sq":"8f41","./sq.js":"8f41","./sr":"61ee","./sr-cyrl":"17eb","./sr-cyrl.js":"17eb","./sr.js":"61ee","./ss":"0d66","./ss.js":"0d66","./sv":"820c","./sv.js":"820c","./sw":"dbbf","./sw.js":"dbbf","./ta":"70b6","./ta.js":"70b6","./te":"67e8","./te.js":"67e8","./tet":"9609","./tet.js":"9609","./tg":"a19a","./tg.js":"a19a","./th":"459d","./th.js":"459d","./tk":"b2a1","./tk.js":"b2a1","./tl-ph":"341b","./tl-ph.js":"341b","./tlh":"b24c","./tlh.js":"b24c","./tr":"8f6c","./tr.js":"8f6c","./tzl":"fea0","./tzl.js":"fea0","./tzm":"9828","./tzm-latn":"a859","./tzm-latn.js":"a859","./tzm.js":"9828","./ug-cn":"0a67","./ug-cn.js":"0a67","./uk":"82cc","./uk.js":"82cc","./ur":"ad72","./ur.js":"ad72","./uz":"015a","./uz-latn":"35be","./uz-latn.js":"35be","./uz.js":"015a","./vi":"90db","./vi.js":"90db","./x-pseudo":"7eee","./x-pseudo.js":"7eee","./yo":"b9ec","./yo.js":"b9ec","./zh-cn":"10ef","./zh-cn.js":"10ef","./zh-hk":"c3a6","./zh-hk.js":"c3a6","./zh-mo":"9218","./zh-mo.js":"9218","./zh-tw":"0144","./zh-tw.js":"0144"};function o(e){var t=r(e);return a(t)}function r(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}o.keys=function(){return Object.keys(s)},o.resolve=r,e.exports=o,o.id="aaf1"},f0a0:function(e,t,a){}});